<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="test">
	<select id="getB1List" parameterType="hashmap"
		resultType="hashmap">
		select
		no,title,writer,to_char(dt, 'yyyy-mm-dd') as dt
		from b1
		where 1 = 1
		<if test="searchTxt != null and searchTxt !=''">
			<choose>
				<when test="searchGbn eq 0">
					and title like '%'||${searchTxt}||'%'
				</when>
				<when test="searchGbn eq 1">
					and writer like '%'||${searchTxt}||'%'
				</when>
			</choose>
		</if>
		order by no desc
	</select>

	<select id="getB1" parameterType="hashmap" resultType="hashmap">
		SELECT NO,
		TITLE, WRITER, CON, TO_CHAR(DT, 'YYYY-MM-DD') AS DT
		FROM B1
		WHERE NO =
		#{no}
	</select>
</mapper>